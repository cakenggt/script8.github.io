(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,_,t){e.exports=t(104)},104:function(e,_,t){"use strict";t.r(_);var a=t(2),s=t.n(a),r=t(71),n=t.n(r),i=t(72);n.a.render(s.a.createElement(i.a,null),document.getElementById("root"))},11:function(e){e.exports={a:"0.1.255"}},19:function(e,_,t){"use strict";t.d(_,"b",function(){return s});var a=["c","c#","d","d#","e","f","f#","g","g#","a","a#","b"],s=function(e){return a.indexOf(e)};_.a=function(e,_,t){var s=function(e){return a[e%a.length]}(e),r=function(e){return Math.floor(e/a.length)}(e)+(t?2:0);return _?"".concat(s).concat(r):s}},208:function(e,_,t){},29:function(e,_,t){"use strict";_.a="init = state => {\n}\n\nupdate = (state, input, elapsed) => {\n}\n\ndrawActors = (state, fade) =>\n  state.actors && state.actors.forEach(actor =>\n    sprite(\n      actor.x,\n      actor.y,\n      actor.sprite,\n      fade ? actor.trailBrighten || -3 : actor.brighten,\n      actor.flipH,\n      actor.flipV\n    )\n  )\n\ndraw = state => {\n  camera()\n  clear()\n}"},32:function(e,_,t){"use strict";t.d(_,"a",function(){return s});var a={},s=["mousedown","ArrowUp","ArrowRight","ArrowDown","ArrowLeft","a","b","Enter"," "];_.b=function(e){for(var _=(window.navigator.getGamepads&&window.navigator.getGamepads()[0]||{}).buttons,t={__mousedown:e.has("mousedown"),up:e.has("ArrowUp")||_&&_[12].pressed,right:e.has("ArrowRight")||_&&_[15].pressed,down:e.has("ArrowDown")||_&&_[13].pressed,left:e.has("ArrowLeft")||_&&_[14].pressed,a:e.has("a")||_&&(_[1].pressed||_[2].pressed),b:e.has("b")||_&&(_[0].pressed||_[3].pressed),start:e.has("Enter")||_&&_[9].pressed,select:e.has(" ")||_&&_[8].pressed},s=Object.keys(t),r=0;r<s.length;r++){var n=s[r];if(!n.startsWith("__")){var i=!a[n]&&t[n];t[n+"Pressed"]=i;var o=a[n]&&!t[n];t[n+"Released"]=o}}return a=t,t}},48:function(e,_,t){"use strict";var a=t(27),s=t(5),r=t(9),n=t(0),i=t.n(n),o=function(e){return e.length||e.push(0),e.reduce(function(e,_,t){if(t>0){var a=e[t-1];return[].concat(Object(s.a)(e),[[a[1],a[1]+_]])}return[[0,_]]},[])};t.d(_,"b",function(){return u}),t.d(_,"a",function(){return l});var l=function(e){return i()(e).orderBy(function(e,_){return _}).map("text").filter(function(e){return!i.a.isEmpty(e)}).value().join("\n")},u=function(e){var _=JSON.parse(i.a.get(e,'files["misc.json"].content',"{}")),t=i.a.get(e,'files["code.js"].content',"");if(_.lines){var n=o(_.lines),l=t.split("\n");return n.reduce(function(e,_,t){return Object(r.a)({},e,Object(a.a)({},t,{text:l.slice.apply(l,Object(s.a)(_)).join("\n"),active:0===t,key:t}))},{})}return{0:{text:t,active:!0,key:0}}}},7:function(e,_,t){"use strict";var a={BOOT:"BOOT",HOME:"HOME",RUN:"RUN",HELP:"HELP",CODE:"CODE",SPRITE:"SPRITE",MAP:"MAP",SONG:"SONG",CHAIN:"CHAIN",PHRASE:"PHRASE",SHELF:"SHELF"},s=a,r={iframeVersion:t(11).a,errorLine:null,screen:s.BOOT,booted:!1,gist:{},game:{0:{text:"",active:!0,key:0}},token:{},nextAction:null,sprites:{},map:[],phrases:{},chains:{},songs:{},docHistories:{},dismissedNotices:[],selectedUi:{phrase:0,chain:0,song:0},tutorial:null,sound:!0,shelving:!1};_.a=r},72:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(102),_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(73),_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(74),_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(101),_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(75),_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(100),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__),classnames__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(10),classnames__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_10__),deep_equal__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(4),deep_equal__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(deep_equal__WEBPACK_IMPORTED_MODULE_11__),tone__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(3),tone__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(tone__WEBPACK_IMPORTED_MODULE_12__),d3_timer__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(98),redux__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(12),lodash__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(0),lodash__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_15__),lodash_sum__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(78),lodash_sum__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(lodash_sum__WEBPACK_IMPORTED_MODULE_16__),lodash_range__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(31),lodash_range__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(lodash_range__WEBPACK_IMPORTED_MODULE_17__),lodash_flatten__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(47),lodash_flatten__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(lodash_flatten__WEBPACK_IMPORTED_MODULE_18__),lodash_random__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(79),lodash_random__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(lodash_random__WEBPACK_IMPORTED_MODULE_19__),lodash_clamp__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(28),lodash_clamp__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(lodash_clamp__WEBPACK_IMPORTED_MODULE_20__),lodash_once__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(80),lodash_once__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(lodash_once__WEBPACK_IMPORTED_MODULE_21__),lodash_uniqBy__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(81),lodash_uniqBy__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_22__),lodash_isEmpty__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(82),lodash_isEmpty__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_23__),lodash_chunk__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(83),lodash_chunk__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(lodash_chunk__WEBPACK_IMPORTED_MODULE_24__),_utils_bios_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(84),javascript_state_machine__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(85),javascript_state_machine__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(javascript_state_machine__WEBPACK_IMPORTED_MODULE_26__),_soundAPI_index_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(99),_frameBufferCanvasAPI_index_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(97),_contextCanvasAPI_trimCanvas_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(86),_validateToken_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(87),_getUserInput_js__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(32),_createReducer_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(88),_skeleton_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(29),_gistParsers_map_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(89),_gistParsers_sprites_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(90),_gistParsers_phrases_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(91),_gistParsers_chains_js__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(93),_gistParsers_songs_js__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(94),_gistParsers_game_js__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(48),_utils_errorLocation_js__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(95),_css_Iframe_css__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(208),_css_Iframe_css__WEBPACK_IMPORTED_MODULE_41___default=__webpack_require__.n(_css_Iframe_css__WEBPACK_IMPORTED_MODULE_41__),_package_json__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(11),_package_json__WEBPACK_IMPORTED_MODULE_42___namespace=__webpack_require__.t(11,1),platform=window.navigator.platform;console.log(JSON.stringify("SCRIPT-8 iframe v ".concat(_package_json__WEBPACK_IMPORTED_MODULE_42__.a),null,2));var getUniqueErrorMessages=function(e){return lodash__WEBPACK_IMPORTED_MODULE_15___default()(e).map(function(e,_){return{type:_,data:e}}).filter(function(e){return e.data&&e.type}).sortBy("type").uniqBy(function(e){return JSON.stringify(e.data)}).value()};window.init=null,window.update=null,window.drawActors=null,window.draw=null,window._script8={embedState:{},reservedTokens:new Set(["init","update","drawActors","draw"])};var NOOP=function(){},FPS=60,REDUX_HISTORY_SECONDS=2,CANVAS_SIZE=128,ACTOR_FRAME_SKIP=5,Iframe=function(_Component){function Iframe(e){var _;return Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__.a)(this,Iframe),(_=Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__.a)(this,Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__.a)(Iframe).call(this,e))).ArrowUpElement=null,_.setArrowUpRef=function(e){_.ArrowUpElement=e},_.ArrowRightElement=null,_.setArrowRightRef=function(e){_.ArrowRightElement=e},_.ArrowDownElement=null,_.setArrowDownRef=function(e){_.ArrowDownElement=e},_.ArrowLeftElement=null,_.setArrowLeftRef=function(e){_.ArrowLeftElement=e},_.aElement=null,_.setaRef=function(e){_.aElement=e},_.bElement=null,_.setbRef=function(e){_.bElement=e},_.EnterElement=null,_.setEnterRef=function(e){_.EnterElement=e},_.SpaceElement=null,_.setSpaceRef=function(e){_.SpaceElement=e},_.touchstartArrowUp=_.touchstartArrowUp.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchstartArrowRight=_.touchstartArrowRight.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchstartArrowDown=_.touchstartArrowDown.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchstartArrowLeft=_.touchstartArrowLeft.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchstarta=_.touchstarta.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchstartb=_.touchstartb.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchstartEnter=_.touchstartEnter.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchstartSpace=_.touchstartSpace.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchendArrowUp=_.touchendArrowUp.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchendArrowRight=_.touchendArrowRight.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchendArrowDown=_.touchendArrowDown.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchendArrowLeft=_.touchendArrowLeft.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchenda=_.touchenda.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchendb=_.touchendb.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchendEnter=_.touchendEnter.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.touchendSpace=_.touchendSpace.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.addLog=_.addLog.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.sendLogsToParent=_.sendLogsToParent.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.logs=[],_.sendErrorToParent=_.sendErrorToParent.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.loggerErrors={},_.printErrorsToCassetteScreen=_.printErrorsToCassetteScreen.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.updateGlobals=_.updateGlobals.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.evalCode=_.evalCode.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.startTimer=_.startTimer.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.handleTimelineInput=_.handleTimelineInput.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.handleActorClick=_.handleActorClick.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.handlePauseClick=_.handlePauseClick.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.handleRestartClick=_.handleRestartClick.bind(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(_)),_.heightSent=0,_.shadows=new Set(["document"]),_.blacklist=new Set(["eval","alert","_script8"]),_.keys=new Set,_.timer=null,_.previousElapsed=0,_.pastFpsValues=[],_.volumeNode=new tone__WEBPACK_IMPORTED_MODULE_12__.Volume,_.reducer=Object(_createReducer_js__WEBPACK_IMPORTED_MODULE_32__.a)(_.sendErrorToParent),_.store=null,_.previousInitString=null,_.reduxHistory=[],_.reduxLogger=function(e){return function(t){return function(a){return _.reduxHistory=[].concat(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(_.reduxHistory),[{state:e.getState(),action:a}]).slice(-FPS*REDUX_HISTORY_SECONDS),t(a)}}},_.soundFunctions=null,_.songSequences=null,_.state={started:!1,fps:null,game:"",sprites:{},map:{},songs:{},chains:{},phrases:{},timelineIndex:0,actors:[],selectedActors:[],message:null,callbacks:{},isPaused:!1,alteredStates:[],run:!0,sound:!0},_._pixelData=new ImageData(CANVAS_SIZE,CANVAS_SIZE),_._pixelBuffer=new ArrayBuffer(4*CANVAS_SIZE*CANVAS_SIZE),_._pixelBytes=new Uint8ClampedArray(_._pixelBuffer),_._pixelIntegers=new Uint32Array(_._pixelBuffer),_}return Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_8__.a)(Iframe,_Component),Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(Iframe,[{key:"touchstartArrowUp",value:function(){this.ArrowUpElement.classList.add("on"),this.keys.add("ArrowUp")}},{key:"touchstartArrowRight",value:function(){this.ArrowRightElement.classList.add("on"),this.keys.add("ArrowRight")}},{key:"touchstartArrowDown",value:function(){this.ArrowDownElement.classList.add("on"),this.keys.add("ArrowDown")}},{key:"touchstartArrowLeft",value:function(){this.ArrowLeftElement.classList.add("on"),this.keys.add("ArrowLeft")}},{key:"touchstarta",value:function(){this.aElement.classList.add("on"),this.keys.add("a")}},{key:"touchstartb",value:function(){this.bElement.classList.add("on"),this.keys.add("b")}},{key:"touchstartEnter",value:function(){this.EnterElement.classList.add("on"),this.keys.add("Enter")}},{key:"touchstartSpace",value:function(){this.SpaceElement.classList.add("on"),this.keys.add(" ")}},{key:"touchendArrowUp",value:function(){this.ArrowUpElement.classList.remove("on"),this.keys.delete("ArrowUp")}},{key:"touchendArrowRight",value:function(){this.ArrowRightElement.classList.remove("on"),this.keys.delete("ArrowRight")}},{key:"touchendArrowDown",value:function(){this.ArrowDownElement.classList.remove("on"),this.keys.delete("ArrowDown")}},{key:"touchendArrowLeft",value:function(){this.ArrowLeftElement.classList.remove("on"),this.keys.delete("ArrowLeft")}},{key:"touchenda",value:function(){this.aElement.classList.remove("on"),this.keys.delete("a")}},{key:"touchendb",value:function(){this.bElement.classList.remove("on"),this.keys.delete("b")}},{key:"touchendEnter",value:function(){this.EnterElement.classList.remove("on"),this.keys.delete("Enter")}},{key:"touchendSpace",value:function(){this.SpaceElement.classList.remove("on"),this.keys.delete(" ")}},{key:"sendLogsToParent",value:function(){if(!this.isEmbed){var e=this.state,_=e.message;e.run||_.ports[0].postMessage({logs:this.logs})}this.logs=[]}},{key:"addLog",value:function(e){this.isEmbed||(this.state.run||lodash__WEBPACK_IMPORTED_MODULE_15___default.a.isNil(e)||this.logs.push(e))}},{key:"sendErrorToParent",value:function(e){var _=e.type,t=e.error,a=void 0===t?null:t,s=this.state,r=s.message,n=s.run;if(a){var i={message:a.message,position:Object(_utils_errorLocation_js__WEBPACK_IMPORTED_MODULE_40__.a)(a)};i.message.startsWith("enhancer(...) is not a function")&&(i.message="The init or update functions are invalid."),JSON.stringify(this.loggerErrors[_])!==JSON.stringify(i)&&(this.loggerErrors[_]=i,this.isEmbed||r.ports[0].postMessage({errors:getUniqueErrorMessages(this.loggerErrors)}))}else this.loggerErrors[_]&&(this.loggerErrors[_]=null,this.isEmbed||r.ports[0].postMessage({errors:getUniqueErrorMessages(this.loggerErrors)}));n&&this.printErrorsToCassetteScreen()}},{key:"printErrorsToCassetteScreen",value:function(){var e=getUniqueErrorMessages(this.loggerErrors).map(function(e){return"error: ".concat(e.data.message)}).join(". ");e.length&&(lodash_chunk__WEBPACK_IMPORTED_MODULE_24___default()(e,32).forEach(function(e,_){var t=e.join("");lodash_range__WEBPACK_IMPORTED_MODULE_17___default()(3).forEach(function(e){lodash_range__WEBPACK_IMPORTED_MODULE_17___default()(3).forEach(function(a){window.print(1+e,1+a+8*_,t,7)})}),window.print(2,2+8*_,t,0)}),this.writePixelDataToCanvas())}},{key:"updateGlobals",value:function(e){var _;if(e)_=e;else{var t=_frameBufferCanvasAPI_index_js__WEBPACK_IMPORTED_MODULE_28__.a;_=Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__.a)({console:console,StateMachine:javascript_state_machine__WEBPACK_IMPORTED_MODULE_26___default.a,JSON:JSON,Math:Math,Object:Object,Array:Array,log:this.addLog},t({pixels:this._pixelIntegers,ctx:this._canvas.getContext("2d"),width:CANVAS_SIZE,height:CANVAS_SIZE,sprites:this.state.sprites,map:this.state.map}),{range:lodash_range__WEBPACK_IMPORTED_MODULE_17___default.a,flatten:lodash_flatten__WEBPACK_IMPORTED_MODULE_18___default.a,random:lodash_random__WEBPACK_IMPORTED_MODULE_19___default.a,clamp:lodash_clamp__WEBPACK_IMPORTED_MODULE_20___default.a})}Object.keys(_).forEach(function(e){window[e]=_[e],window._script8.reservedTokens.add(e)})}},{key:"writePixelDataToCanvas",value:function(){this._pixelData.data.set(this._pixelBytes),this._canvas.getContext("2d").putImageData(this._pixelData,0,0)}},{key:"drawUserGraphics",value:function(e){window.draw&&(window.draw(e),this.writePixelDataToCanvas())}},{key:"componentDidMount",value:function(){var e=this;this.soundFunctions=Object(_soundAPI_index_js__WEBPACK_IMPORTED_MODULE_27__.a)(this.volumeNode),this.updateGlobals({playSong:this.soundFunctions.playSong,playPhrase:this.soundFunctions.playPhrase,stopSong:this.soundFunctions.stopSong}),this.mousedownHandler=function(){e.keys.add("mousedown")},this.mouseupHandler=function(){e.keys.delete("mousedown")},this.keydownHandler=function(_){var t=_.altKey,a=_.metaKey,s=_.ctrlKey,r=_.key,n=e.state.message;(!e.isEmbed&&a&&"s"===r&&lodash__WEBPACK_IMPORTED_MODULE_15___default.a.includes(platform,"Mac")||s&&"s"===r&&!lodash__WEBPACK_IMPORTED_MODULE_15___default.a.includes(platform,"Mac"))&&(_.preventDefault(),n.ports[0].postMessage({shortcut:"save"})),!e.isEmbed&&t&&("."===r&&(_.preventDefault(),n.ports[0].postMessage({shortcut:"previous"})),"/"===r&&(_.preventDefault(),n.ports[0].postMessage({shortcut:"next"}))),_getUserInput_js__WEBPACK_IMPORTED_MODULE_31__.a.includes(r)&&(_.preventDefault(),_.stopPropagation()),e.keys.add(r)},this.keyupHandler=function(_){var t=_.key;_getUserInput_js__WEBPACK_IMPORTED_MODULE_31__.a.includes(t)&&(_.preventDefault(),_.stopPropagation()),e.keys.delete(t)},document.addEventListener("touchstart",this.mousedownHandler),document.addEventListener("mousedown",this.mousedownHandler),document.addEventListener("touchend",this.mouseupHandler),document.addEventListener("mouseup",this.mouseupHandler),document.addEventListener("keydown",this.keydownHandler),document.addEventListener("keyup",this.keyupHandler);var _=function(_){var t=_.data,a=t.type,s=Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(t,["type"]),r=e.blacklist,n=e.shadows;if("callCode"===a)e.setState(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__.a)({},s,{message:_}));else if("findInvalidToken"===a){var i=s.tokens.findIndex(function(e){return!Object(_validateToken_js__WEBPACK_IMPORTED_MODULE_30__.a)({token:e,blacklist:r,globals:window._script8.reservedTokens,shadows:n})});_.ports[0].postMessage(i)}else if("image"===a){var o=document.createElement("canvas");o.width=128,o.height=128,o.getContext("2d").drawImage(e._canvas,0,0,128,128),_.ports[0].postMessage(o.toDataURL())}};window.SCRIPT_8_EMBEDDED_GIST_ID?(this.isEmbed=!0,window.fetch("".concat("https://script-8-api-4l7lehio6.now.sh","/gist/").concat(window.SCRIPT_8_EMBEDDED_GIST_ID)).then(function(e){return e.json()}).then(function(t){e.gist=t,_({data:{type:"callCode",game:_utils_bios_js__WEBPACK_IMPORTED_MODULE_25__.a,isDoneFetching:!0,songs:Object(_gistParsers_songs_js__WEBPACK_IMPORTED_MODULE_38__.a)(t),chains:Object(_gistParsers_chains_js__WEBPACK_IMPORTED_MODULE_37__.a)(t),phrases:Object(_gistParsers_phrases_js__WEBPACK_IMPORTED_MODULE_36__.a)(t),sprites:Object(_gistParsers_sprites_js__WEBPACK_IMPORTED_MODULE_35__.a)(t),map:Object(_gistParsers_map_js__WEBPACK_IMPORTED_MODULE_34__.a)(t),run:!0,callbacks:{},sound:!0}})})):window.addEventListener("message",_),this.updateGlobals()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("touchstart",this.mousedownHandler),document.removeEventListener("mousedown",this.mousedownHandler),document.removeEventListener("touchend",this.mouseupHandler),document.removeEventListener("mouseup",this.mouseupHandler),document.removeEventListener("keydown",this.keydownHandler),document.removeEventListener("keyup",this.keyupHandler)}},{key:"evalCode",value:function evalCode(){var _this3=this,shadows=this.shadows,state=this.state,game=state.game,message=state.message,callbacks=state.callbacks,isDoneFetching=state.isDoneFetching;try{isDoneFetching&&(window._script8.end=lodash_once__WEBPACK_IMPORTED_MODULE_21___default()(function(){_this3.setState({game:Object(_gistParsers_game_js__WEBPACK_IMPORTED_MODULE_39__.a)(Object(_gistParsers_game_js__WEBPACK_IMPORTED_MODULE_39__.b)(_this3.gist)),started:!0}),"running"!==tone__WEBPACK_IMPORTED_MODULE_12__.context.state&&tone__WEBPACK_IMPORTED_MODULE_12__.start(),_this3.isEmbed||message.ports[0].postMessage({callback:callbacks.endCallback})})),this.previousInitString=window.init?window.init.toString():null;var shadowString="var ".concat(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(shadows).join(",")),innerSkeleton=_skeleton_js__WEBPACK_IMPORTED_MODULE_33__.a;eval("\n      // Shadow variables we don't want available.\n      ".concat(shadowString,"\n      // The inception eval allows the user to declare vars (e.g. screen).\n      eval(innerSkeleton)\n      eval(game)\n    ")),this.sendErrorToParent({type:"evalCode"})}catch(e){this.sendErrorToParent({type:"evalCode",error:e})}}},{key:"stopTimer",value:function(){this.timer&&this.timer.stop()}},{key:"startTimer",value:function(){var e=this;this.timer&&this.timer.stop(),this.previousElapsed=0,this.timer=Object(d3_timer__WEBPACK_IMPORTED_MODULE_13__.a)(function(_){try{var t,a=_-e.previousElapsed,s=Math.round(1e3/a);e.pastFpsValues.push(s),e.pastFpsValues.length>60&&(t=Math.round(lodash_sum__WEBPACK_IMPORTED_MODULE_16___default()(e.pastFpsValues)/e.pastFpsValues.length),e.pastFpsValues=[]),e.previousElapsed=_;var r=Object(_getUserInput_js__WEBPACK_IMPORTED_MODULE_31__.b)(e.keys);e.isEmbed?window.update(window._script8.embedState,r,a):e.store.dispatch({type:"UPDATE",input:r,elapsed:a}),e.drawUserGraphics(e.isEmbed?window._script8.embedState:e.store.getState()),e.sendLogsToParent(),void 0!==t&&t!==e.state.fps&&e.setState({fps:t}),e.sendErrorToParent({type:"startTimer"})}catch(n){e.sendErrorToParent({type:"startTimer",error:n})}},1e3/FPS)}},{key:"handleTimelineInput",value:function(e){this.setState({timelineIndex:+e.target.value})}},{key:"handleActorClick",value:function(e){var _=this.state.selectedActors,t=_.includes(e)?_.filter(function(_){return _!==e}):[].concat(Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(_),[e]);this.setState({selectedActors:t})}},{key:"handleRestartClick",value:function(){window.init=Date.now(),window._script8.embedState="SCRIPT-8-RESTART",this.reduxHistory=[],this.pastFpsValues=[],this.forceUpdate()}},{key:"handlePauseClick",value:function(){this.state.isPaused?(this.reduxHistory=[],this.startTimer()):this.stopTimer(),this.setState({selectedActors:[],actors:[],fps:null,isPaused:!this.state.isPaused})}},{key:"componentDidUpdate",value:function(e,_){var t=this,a=this.state,s=a.message,r=a.isPaused,n=a.game,i=a.sprites,o=a.map,l=a.timelineIndex,u=a.actors,c=a.selectedActors,d=a.sound,h=a.songs,E=a.chains,p=a.phrases,m=a.run;try{if(deep_equal__WEBPACK_IMPORTED_MODULE_11___default()(i,_.sprites)&&deep_equal__WEBPACK_IMPORTED_MODULE_11___default()(o,_.map)||this.updateGlobals(),deep_equal__WEBPACK_IMPORTED_MODULE_11___default()(d,_.sound)||(tone__WEBPACK_IMPORTED_MODULE_12__.Master.mute=!d),deep_equal__WEBPACK_IMPORTED_MODULE_11___default()(h,_.songs)&&deep_equal__WEBPACK_IMPORTED_MODULE_11___default()(E,_.chains)&&deep_equal__WEBPACK_IMPORTED_MODULE_11___default()(p,_.phrases)||(this.soundFunctions.makeSongs({songs:h,chains:E,phrases:p}),this.handleRestartClick()),this.volumeNode.mute=!m,r)if(deep_equal__WEBPACK_IMPORTED_MODULE_11___default()(r,_.isPaused)&&deep_equal__WEBPACK_IMPORTED_MODULE_11___default()(n,_.game)&&deep_equal__WEBPACK_IMPORTED_MODULE_11___default()(i,_.sprites)&&deep_equal__WEBPACK_IMPORTED_MODULE_11___default()(o,_.map)&&deep_equal__WEBPACK_IMPORTED_MODULE_11___default()(l,_.timelineIndex)&&deep_equal__WEBPACK_IMPORTED_MODULE_11___default()(c,_.selectedActors)){var b=Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(this._ul.querySelectorAll("button")),f=Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(this._ul.querySelectorAll("canvas"));b.length!==f.length&&(u.forEach(function(e,_){t._pixelIntegers.fill(0),window.drawActors({actors:[Object(_Users_alec_Github_script_8_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__.a)({},e,{x:64,y:64})]}),t.writePixelDataToCanvas();var a=Object(_contextCanvasAPI_trimCanvas_js__WEBPACK_IMPORTED_MODULE_29__.a)({ctx:t._canvas.getContext("2d"),width:CANVAS_SIZE,height:CANVAS_SIZE});b[_].appendChild(a)}),this.drawUserGraphics(this.store.getState()))}else try{if(this.reduxHistory.length){this.evalCode();var O=[];this.store=Object(redux__WEBPACK_IMPORTED_MODULE_14__.b)(this.reducer,this.reduxHistory[0].state),O.push(this.store.getState()),this.reduxHistory.forEach(function(e,_){e.state;var a=e.action;_===l-1?t.updateGlobals({log:t.addLog}):t.updateGlobals({log:NOOP}),t.store.dispatch(a),O.push(t.store.getState())}),this.updateGlobals({log:this.addLog}),O=O.filter(function(e){return!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_23___default()(e)});var P=_.isPaused?l:O.length-1,M=O[P];this.drawUserGraphics(M);var D=lodash_flatten__WEBPACK_IMPORTED_MODULE_18___default()(O.map(function(e){return e.actors})).filter(function(e){return e}),g=lodash_uniqBy__WEBPACK_IMPORTED_MODULE_22___default()(D,function(e){return e.id});O.forEach(function(e,_){if(_!==P&&_%ACTOR_FRAME_SKIP===0||_===O.length-1){var a=e.actors&&e.actors.filter(function(e){return c.includes(e.id)})||[];t.updateGlobals({log:NOOP}),window.drawActors&&window.drawActors({actors:a},!0),t.updateGlobals({log:t.addLog})}});var A=O[P];window.drawActors&&A&&A.actors&&window.drawActors({actors:A.actors.filter(function(e){return c.includes(e.id)})}),this.sendLogsToParent(),this.writePixelDataToCanvas(),this.store=Object(redux__WEBPACK_IMPORTED_MODULE_14__.b)(this.reducer,M),this.setState({alteredStates:O,actors:g,timelineIndex:P})}this.sendErrorToParent({type:"isPaused"})}catch(I){this.sendErrorToParent({type:"isPaused",error:I})}else if(this.isEmbed)n===_.game&&"SCRIPT-8-RESTART"!==window._script8.embedState||(this.evalCode(),window._script8.embedState={},window.init(window._script8.embedState));else if(_.isPaused||n!==_.game||m!==_.run||!deep_equal__WEBPACK_IMPORTED_MODULE_11___default()(window.init?window.init.toString():null,this.previousInitString))if(this.evalCode(),deep_equal__WEBPACK_IMPORTED_MODULE_11___default()(window.init?window.init.toString():null,this.previousInitString)){var w=this.store&&this.store.getState()||{};this.store=Object(redux__WEBPACK_IMPORTED_MODULE_14__.b)(this.reducer,w,Object(redux__WEBPACK_IMPORTED_MODULE_14__.a)(this.reduxLogger))}else this.store=Object(redux__WEBPACK_IMPORTED_MODULE_14__.b)(this.reducer,{},Object(redux__WEBPACK_IMPORTED_MODULE_14__.a)(this.reduxLogger)),this.store.dispatch({type:"INIT"}),this.reduxHistory=[];this.sendErrorToParent({type:"componentDidMount"})}catch(I){this.sendErrorToParent({type:"componentDidMount",error:I})}if(this.timer||r||this.startTimer(),s){var v=document.body.querySelector(".container").scrollHeight;v===this.heightSent||this.isEmbed||(s.ports[0].postMessage({height:v}),this.heightSent=v)}}},{key:"render",value:function(){var e=this,_=this.state,t=_.isPaused,a=_.actors,s=_.alteredStates,r=_.timelineIndex,n=_.selectedActors,i=_.fps,o=_.run,l=_.started;return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"Iframe"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:"container"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("canvas",{className:"master",width:CANVAS_SIZE,height:CANVAS_SIZE,ref:function(_){e._canvas=_}}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_10___default()("mobile-buttons",{hide:!o})},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{ref:this.setArrowLeftRef,className:"button left",onTouchStart:this.touchstartArrowLeft,onTouchEnd:this.touchendArrowLeft},"<"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{ref:this.setArrowUpRef,className:"button up",onTouchStart:this.touchstartArrowUp,onTouchEnd:this.touchendArrowUp},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",null,">")),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{ref:this.setArrowRightRef,className:"button right",onTouchStart:this.touchstartArrowRight,onTouchEnd:this.touchendArrowRight},">"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{ref:this.setaRef,className:"button a",onTouchStart:this.touchstarta,onTouchEnd:this.touchenda},"A"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{ref:this.setbRef,className:"button b",onTouchStart:this.touchstartb,onTouchEnd:this.touchendb},"B"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{ref:this.setArrowDownRef,className:"button down",onTouchStart:this.touchstartArrowDown,onTouchEnd:this.touchendArrowDown},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",null,"<")),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{ref:this.setSpaceRef,className:"button select",onTouchStart:this.touchstartSpace,onTouchEnd:this.touchendSpace},"Select"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{ref:this.setEnterRef,className:"button start",onTouchStart:this.touchstartEnter,onTouchEnd:this.touchendEnter},"Start")),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_10___default()("stats",{invisible:o&&!l})},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("button",{className:"button play",onClick:this.handlePauseClick},t?"play":"pause"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("button",{className:classnames__WEBPACK_IMPORTED_MODULE_10___default()("button play",{hide:t}),onClick:this.handleRestartClick},"restart"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_10___default()("fps",{hide:t||!0})},"fps (avg): ",react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",null,i))),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_10___default()("timeline",{hide:o||0===s.length,invisible:!t})},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("input",{type:"range",value:r,min:0,max:s.length-1,onChange:this.handleTimelineInput}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("ul",{ref:function(_){e._ul=_}},a.map(function(_,t){return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("li",{key:_.id,className:classnames__WEBPACK_IMPORTED_MODULE_10___default()({hide:t>6})},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("button",{className:classnames__WEBPACK_IMPORTED_MODULE_10___default()({active:n.includes(_.id)}),onClick:function(){return e.handleActorClick(_.id)}}))})))))}}]),Iframe}(react__WEBPACK_IMPORTED_MODULE_9__.Component);__webpack_exports__.a=Iframe},84:function(e,_,t){"use strict";var a=t(11),s=t(29),r="\n\nconst modes = ['glitch', 'numbers', 'pre-ram', 'ram', 'run', 'end']\n\nconst size = range(128)\nconst d = 1\n\nconst rects = flatten(size.map(x => size.map(y => [x, y, d, 128])))\n\nconst biosLines = range(18).map(() => {\n  return (\n    '  ' +\n    range(4)\n      .map(() => random(1000, 9999))\n      .join('      ')\n  )\n})\n\n// init = state => {\n//   state.counter = 0\n//   state.totalElapsed = 0\n//   state.modeIndex = 0\n// }\n\nlet hasStarted = false\nupdate = (state, input, elapsed) => {\n  if (!hasStarted) {\n    state.counter = 0\n    state.totalElapsed = 0\n    state.modeIndex = 0\n    hasStarted = true\n  }\n\n  const mode = modes[state.modeIndex]\n\n  state.counter++\n  state.totalElapsed += elapsed\n\n  if (mode === 'glitch' && state.totalElapsed > 500) {\n    state.modeIndex++\n    state.totalElapsed = 0\n  } else if (mode === 'numbers' && state.totalElapsed > 100) {\n    state.modeIndex++\n    state.totalElapsed = 0\n  } else if (mode === 'pre-ram' && state.totalElapsed > 100) {\n    state.modeIndex++\n    state.totalElapsed = 0\n    state.counter = 0\n  } else if (mode === 'ram' && state.counter > 64 && _script8.end) {\n    // The _script8.end function is not defined until we're done fetching the gist.\n    state.modeIndex++\n    state.totalElapsed = 0\n    state.counter++\n  } else if (mode === 'run') {\n    if (input.__mousedown) {\n      ".concat(s.a,"\n      _script8.end()\n    }\n  }\n}\n\ndraw = state => {\n  const { modeIndex, counter } = state\n  const mode = modes[modeIndex]\n\n  if (mode === 'glitch') {\n    rects.forEach(rect => {\n      rectFill(...rect, rect[0] + (rect[1] * counter) / 100)\n    })\n  }\n\n  if (mode === 'numbers') {\n    const factor = 4\n    if (counter % factor === 0) {\n      rectFill(0, 0, 128, 128, 7)\n      biosLines.forEach((line, j) => {\n        print(0, 128 + 7 * j - (7 * counter) / factor, line, 5)\n      })\n    }\n  }\n\n  if (mode === 'pre-ram') {\n    rectFill(0, 0, 128, 128, 7)\n  }\n\n  if (mode === 'ram') {\n    rectFill(0, 0, 128, 128, 6)\n    print(7, 7 * 1, 'script-8', 0)\n    print(7, 7 * 3, 'bios (c) 1980 pantron inc.', 3)\n    print(7, 7 * 4, 'version ").concat(a.a,"', 3)\n    print(7, 7 * 6, 'RAM: ' + Math.min(state.counter, 32) + ' kb', 3)\n\n    print(\n      7,\n      7 * 9,\n      'booting cassette ' +\n        (Math.floor(state.counter / 20) % 2 === 0 ? '' : '+'),\n      3\n    )\n\n    rectFill(48 + 3 * 0, 7, 3, 5, 0)\n    rectFill(48 + 3 * 1, 7, 3, 5, 1)\n    rectFill(48 + 3 * 2, 7, 3, 5, 2)\n    rectFill(48 + 3 * 3, 7, 3, 5, 3)\n    rectFill(48 + 3 * 4, 7, 3, 5, 4)\n    rectFill(48 + 3 * 5, 7, 3, 5, 5)\n    rectFill(48 + 3 * 6, 7, 3, 5, 4)\n    rectFill(48 + 3 * 7, 7, 3, 5, 3)\n    rectFill(48 + 3 * 8, 7, 3, 5, 2)\n    rectFill(48 + 3 * 9, 7, 3, 5, 1)\n    rectFill(48 + 3 * 10, 7, 3, 5, 0)\n  }\n\n  if (mode === 'run') {\n    rectFill(0, 0, 128, 128, 6)\n    print(7, 7 * 1, 'script-8', 0)\n    print(7, 7 * 3, 'bios (c) 1980 pantron inc.', 3)\n    print(7, 7 * 4, 'version ").concat(a.a,"', 3)\n    print(7, 7 * 6, 'RAM: ' + Math.min(state.counter, 32) + ' kb', 3)\n\n    print(7, 7 * 9, 'booting cassette done. ', 3)\n\n    rectFill(48 + 3 * 0, 7, 3, 5, 0)\n    rectFill(48 + 3 * 1, 7, 3, 5, 1)\n    rectFill(48 + 3 * 2, 7, 3, 5, 2)\n    rectFill(48 + 3 * 3, 7, 3, 5, 3)\n    rectFill(48 + 3 * 4, 7, 3, 5, 4)\n    rectFill(48 + 3 * 5, 7, 3, 5, 5)\n    rectFill(48 + 3 * 6, 7, 3, 5, 4)\n    rectFill(48 + 3 * 7, 7, 3, 5, 3)\n    rectFill(48 + 3 * 8, 7, 3, 5, 2)\n    rectFill(48 + 3 * 9, 7, 3, 5, 1)\n    rectFill(48 + 3 * 10, 7, 3, 5, 0)\n    print(7, 7 * 11, '> click to run', 3)\n    rectFill(7, 7 * 12, 4, 5, Math.floor(state.counter / 25) % 2 ? 0 : 6)\n  }\n}\n\n");_.a=r},86:function(e,_,t){"use strict";_.a=function(e){var _,t,a,s=e.ctx,r=e.width,n=e.height,i=s.getImageData(0,0,r,n),o=i.data.length,l={top:null,left:null,right:null,bottom:null};for(_=0;_<o;_+=4)0!==i.data[_+3]&&(t=_/4%r,a=~~(_/4/r),null===l.top&&(l.top=a),null===l.left?l.left=t:t<l.left&&(l.left=t),null===l.right?l.right=t:l.right<t&&(l.right=t),null===l.bottom?l.bottom=a:l.bottom<a&&(l.bottom=a));l.bottom+=1,l.right+=1;var u=document.createElement("canvas"),c=u.getContext("2d"),d=l.bottom-l.top,h=l.right-l.left,E=Math.max(h,d),p=s.getImageData(l.left,l.top,h,d);return c.canvas.width=E,c.canvas.height=E,c.putImageData(p,0,0),u}},87:function(e,_,t){"use strict";_.a=function(e){var _,t=e.token,a=e.blacklist,s=e.globals,r=e.shadows;return a.has(t)?_=!1:s.has(t)?_=!0:window.hasOwnProperty(t)?(r.add(t),_=!0):_=!0,_}},88:function(e,_,t){"use strict";_.a=function(e){return function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT":var a;try{if(a=JSON.parse(JSON.stringify(_)),window.init(a),a.actors&&a.actors.filter(function(e){return!e.id}).length)throw new Error("Actors must have an id property.");e({type:"reducerError"})}catch(r){a=_,e({type:"reducerError",error:r})}finally{return a}case"UPDATE":var s;try{if(s=JSON.parse(JSON.stringify(_)),window.update(s,t.input,t.elapsed),s.actors&&s.actors.filter(function(e){return!e.id}).length)throw new Error("Actors must have an id property.");e({type:"reducerError"})}catch(r){s=_,e({type:"reducerError",error:r})}finally{return s}default:return _}}}},89:function(e,_,t){"use strict";t.d(_,"a",function(){return n});var a=t(0),s=t.n(a),r=t(7),n=function(e){return JSON.parse(s.a.get(e,'files["map.json"].content',JSON.stringify(r.a.map,null,2)))}},90:function(e,_,t){"use strict";t.d(_,"a",function(){return n});var a=t(0),s=t.n(a),r=t(7),n=function(e){return JSON.parse(s.a.get(e,'files["sprites.json"].content',JSON.stringify(r.a.sprites,null,2)))}},91:function(e,_,t){"use strict";t.d(_,"a",function(){return l});var a=t(0),s=t.n(a),r=t(92),n=t.n(r),i=t(7),o=t(19),l=function(e){return _=JSON.parse(s.a.get(e,'files["phrases.json"].content',JSON.stringify(i.a.phrases,null,2))),n()(s.a.mapValues(_,function(e){var _=Array.isArray(e),t=s()(_?e:e.notes).map(function(e){return e.match(/^(\d+)(.*)(\d)(\d)/).slice(1,5)}).map(function(e){return{index:e[0],note:Object(o.b)(e[1]),octave:+e[2],volume:+e[3]}}).keyBy("index").mapValues(function(e){return s.a.omit(e,"index")}).value();return s.a.isEmpty(t)?null:{notes:t,tempo:_?0:s.a.isNil(e.tempo)?0:e.tempo}}));var _}},93:function(e,_,t){"use strict";t.d(_,"a",function(){return n});var a=t(0),s=t.n(a),r=t(7),n=function(e){return JSON.parse(s.a.get(e,'files["chains.json"].content',JSON.stringify(r.a.chains,null,2)))}},94:function(e,_,t){"use strict";t.d(_,"a",function(){return n});var a=t(0),s=t.n(a),r=t(7),n=function(e){return JSON.parse(s.a.get(e,'files["songs.json"].content',JSON.stringify(r.a.songs,null,2)))}},95:function(e,_,t){"use strict";t.d(_,"a",function(){return n});var a=t(96),s=Object(a.detect)(),r={chrome:/\(eval at <anonymous> \(eval at evalCode \(.+:\d+\)\), <anonymous>:(\d+):(\d+)\)/,firefox:/line \d+ > eval line \d+ > eval:(\d+):(\d+)/,edge:/\(eval code:(\d+):(\d+)\)/};function n(e){var _=r[s.name];if(_&&e.stack){var t=_.exec(e.stack);if(t)return{line:t[1],column:t[2]}}else if("safari"===s.name)return{line:e.line,column:e.column}}},97:function(e,_,t){"use strict";for(var a=t(0),s=t(30),r=[[246,214,189],[195,163,138],[153,117,119],[129,98,113],[78,73,95],[32,57,79],[15,42,63],[8,20,30]],n=r.map(function(e){var _=Object(s.a)(e,3),t=_[0],a=_[1],r=_[2];return"rgb(".concat(t,",").concat(a,",").concat(r,")")}),i=[],o=0;o<8;o++){var l=r[o],u=255<<24|l[2]<<16|l[1]<<8|l[0];i[o]=u>>>0}for(var c={},d=0;d<8;d++)c[i[d]]=d;var h={rgb:function(e){return n[e%n.length]},triplet:function(e){return r[e%r.length]},int:function(e){return i[e%i.length]},lookupInt:function(e){return e in c?c[e]:7}},E=function(e){var _=e.x1,t=e.y1,a=e.x2,s=e.y2,r=e.setPixel,n=e.color,i=!1;if(Math.abs(_-a)<Math.abs(t-s)){var o=[t,_];_=o[0],t=o[1];var l=[s,a];a=l[0],s=l[1],i=!0}if(_>a){var u=[a,_];_=u[0],a=u[1];var c=[s,t];t=c[0],s=c[1]}for(var d=a-_,h=s-t,E=2*Math.abs(h),p=0,m=t,b=_;b<=a;b++)i?r(m,b,n):r(b,m,n),(p+=E)>d&&(s>t?m++:m--,p-=2*d)},p=t(5),m=function(e){var _=e.points,t=e.args,a=e.line;if(_.length){var s,r,n,i,o,l;switch(t.length){case 1:r=_.map(function(e){return Object(p.a)(e)}),s=t[0];break;case 2:n=Math.cos(t[0]/180*Math.PI),i=Math.sin(t[0]/180*Math.PI);var u=_.map(function(e){return e[0]}),c=_.map(function(e){return e[1]});o=(Math.min.apply(Math,u)+Math.max.apply(Math,u))/2,l=(Math.min.apply(Math,c)+Math.max.apply(Math,c))/2,r=_.map(function(e){return[(e[0]-o)*n-(e[1]-l)*i+o,(e[0]-o)*i+(e[1]-l)*n+l]}),s=t[1];break;case 3:throw Error("`polyStroke` found 3 arguments instead of 2, 3, or 5.");default:n=Math.cos(t[0]/180*Math.PI),i=Math.sin(t[0]/180*Math.PI),o=t[1],l=t[2],s=t[3],r=_.map(function(e){return[(e[0]-o)*n-(e[1]-l)*i+o,(e[0]-o)*i+(e[1]-l)*n+l]})}for(var d=1;d<_.length;d++)a(Math.round(r[d-1][0]),Math.round(r[d-1][1]),Math.round(r[d][0]),Math.round(r[d][1]),s);a(Math.round(r[r.length-1][0]),Math.round(r[r.length-1][1]),Math.round(r[0][0]),Math.round(r[0][1]),s)}},b=function(e){var _=e.cx,t=e.cy,a=e.radius,s=e.color,r=e.onlyStroke,n=e.setPixel,i=e.line,o=a-1,l=0,u=1,c=1,d=u-(a<<1),h=function(e,a){r?(n(_+e,t+a,s),n(_+e,t-a,s)):i(_+e,t+a,_+e,t-a,s)};if(2===a)h(-1,0),h(0,1),h(1,0);else if(3===a)h(-2,0),h(-2,1),h(-1,2),h(-0,2),h(1,2),h(2,1),h(2,0);else for(;o>=l;)h(o,l),h(-o,l),h(l,o),h(-l,o),d<=0&&(l++,d+=c,c+=2),d>0&&(o--,d+=(u+=2)-(a<<1))},f=t(28),O=t.n(f),P=function(e){var _=e.x,t=e.y,a=e.spriteIndex,s=e.darken,r=e.flipH,n=e.flipV,i=e.setPixel,o=e.sprites;o[a]&&o[a].slice(0,8).forEach(function(e,a){e.split("").forEach(function(e,o){if(" "!==e){var l=O()(+e-s,0,7);i(Math.floor(_)+(r?7-o:o),Math.floor(t)+(n?7-a:a),l)}})})},M={"<":[0,0,1,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0],">":[1,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0],"/":[0,0,0,0,0,1,0,1,0,0,1,0,1,0,0,0,0,0],":":[0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],"|":[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0],"(":[0,1,1,0,1,0,1,0,0,1,0,0],")":[1,0,0,1,0,1,0,1,1,0,0,0],0:[0,1,1,1,0,1,1,0,1,1,0,1,1,1,1,0,0,0],1:[1,1,0,0,1,0,0,1,0,0,1,0,1,1,1,0,0,0],2:[1,1,1,0,0,1,1,1,1,1,0,0,1,1,1,0,0,0],3:[1,1,1,0,0,1,0,1,1,0,0,1,1,1,1,0,0,0],4:[1,0,1,1,0,1,1,1,1,0,0,1,0,0,1,0,0,0],5:[1,1,1,1,0,0,1,1,1,0,0,1,1,1,1,0,0,0],6:[1,0,0,1,0,0,1,1,1,1,0,1,1,1,1,0,0,0],7:[1,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0],8:[1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,0,0,0],9:[1,1,1,1,0,1,1,1,1,0,0,1,0,0,1,0,0,0]," ":[0,0,0,0,0,0,0,0,0,0,0,0],".":[0,0,0,0,1,0],",":[0,0,0,0,1,1],"+":[0,0,0,0,1,0,1,1,1,0,1,0,0,0,0,0,0,0],"-":[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0],"!":[1,1,1,0,1,0],"?":[1,1,0,1,1,1,0,0,1,0,0,0],a:[1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,0,0,0],b:[1,1,0,1,0,1,1,1,0,1,0,1,1,1,1,0,0,0],c:[1,1,1,1,0,0,1,0,0,1,0,0,1,1,1,0,0,0],d:[1,1,0,1,0,1,1,0,1,1,0,1,1,1,1,0,0,0],e:[1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,0,0,0],f:[1,1,1,1,0,0,1,1,1,1,0,0,1,0,0,0,0,0],g:[1,1,1,1,0,0,1,0,1,1,0,1,1,1,1,0,0,0],h:[1,0,1,1,0,1,1,1,1,1,0,1,1,0,1,0,0,0],i:[1,1,1,0,1,0,0,1,0,0,1,0,1,1,1,0,0,0],j:[0,0,1,0,0,1,0,0,1,1,0,1,1,1,1,0,0,0],k:[1,0,1,1,0,1,1,1,0,1,0,1,1,0,1,0,0,0],l:[1,0,0,1,0,0,1,0,0,1,0,0,1,1,1,0,0,0],m:[1,0,1,1,1,1,1,1,1,1,0,1,1,0,1,0,0,0],n:[1,1,1,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0],o:[1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,0,0,0],p:[1,1,1,1,0,1,1,1,1,1,0,0,1,0,0,0,0,0],q:[1,1,1,1,0,1,1,0,1,1,0,1,0,1,1,0,0,0],r:[1,1,1,1,0,1,1,1,0,1,0,1,1,0,1,0,0,0],s:[1,1,1,1,0,0,1,1,1,0,0,1,1,1,1,0,0,0],t:[1,1,1,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0],u:[1,0,1,1,0,1,1,0,1,1,0,1,1,1,1,0,0,0],v:[1,0,1,1,0,1,1,0,1,1,0,1,1,1,0,0,0,0],w:[1,0,1,1,0,1,1,1,1,1,1,1,1,0,1,0,0,0],x:[1,0,1,1,0,1,0,1,0,1,0,1,1,0,1,0,0,0],y:[1,0,1,1,0,1,1,1,1,0,0,1,1,1,1,0,0,0],z:[1,1,1,0,0,1,0,1,0,1,0,0,1,1,1,0,0,0]},D=function(e){var _=e.x,t=e.y,a=e.letters,s=e.c,r=e.setPixel,n=Math.floor(_),i=Math.floor(t),o=!0,l=!1,u=void 0;try{for(var c,d=a.toString().split("")[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var h=c.value,E=M[h.toLowerCase()];if(E){for(var p=E.length/6,m=0;m<p;m++)for(var b=0;b<6;b++)E[b*p+m]&&r(n+m,i+b,s);n+=p+1}else n+=3}}catch(f){l=!0,u=f}finally{try{o||null==d.return||d.return()}finally{if(l)throw u}}};_.a=function(e){var _=e.pixels,t=e.width,s=e.height,r=e.sprites,n=e.map,i=void 0===n?[]:n,o=JSON.parse(JSON.stringify(i)),l=0,u=0,c={},d=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e=Math.floor(e-l),a=Math.floor(a-u),!(e<0||e>=t||a<0||a>=s)){var n=h.int(r);if(n){var i=c[n]||n;_[a*t+e]=i}}},p=function(e,_,t,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;E({x1:e,y1:_,x2:t,y2:a,setPixel:d,color:s})},f=function(e,_,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];e-l<-8||e-l>t||_-u<-8||_-u>s||P({x:e,y:_,spriteIndex:a,darken:n,flipH:i,flipV:o,setPixel:d,sprites:r})};return{camera:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;l=Math.floor(e),u=Math.floor(_)},clear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;_.fill(h.int(e))},colorSwap:function(e,_){void 0===e&&void 0===_?c={}:c[h.int(e)]=h.int(_)},setPixel:d,getPixel:function(e,a){return e=Math.floor(e-l),a=Math.floor(a-u),e<0||e>=t||a<0||a>=s?7:h.lookupInt(_[a*s+e])},line:p,polyStroke:function(e){for(var _=arguments.length,t=new Array(_>1?_-1:0),a=1;a<_;a++)t[a-1]=arguments[a];m({points:e,args:t,line:p})},rectStroke:function(e,_,t,a){!function(e){var _=e.x,t=e.y,a=e.w,s=e.h,r=e.c,n=e.line,i=Math.floor(_),o=Math.floor(_+a-1),l=Math.floor(t),u=Math.floor(t+s-1);n(i,l,o,l,r),n(i,u,o,u,r),n(i,l,i,u,r),n(o,l,o,u,r)}({x:e,y:_,w:t,h:a,c:arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,line:p})},rectFill:function(e,_,t,a){!function(e){for(var _=e.x,t=e.y,a=e.w,s=e.h,r=e.c,n=e.line,i=Math.floor(_),o=Math.floor(_+a-1),l=Math.floor(t),u=Math.floor(t+s-1),c=i;c<=o;c++)n(c,l,c,u,r)}({x:e,y:_,w:t,h:a,c:arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,line:p})},circStroke:function(e,_,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;b({cx:Math.floor(e),cy:Math.floor(_),radius:Math.floor(t),color:a,onlyStroke:!0,setPixel:d,line:p})},circFill:function(e,_,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;b({cx:Math.floor(e),cy:Math.floor(_),radius:Math.floor(t),color:a,setPixel:d,line:p})},print:function(e,_,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;D({x:e,y:_,letters:t,c:a,setPixel:d})},sprite:f,getTile:function(e,_){var t=Object(a.get)(o,[_,e],null),s=null!==t?r[t]:null;return s&&(s.type=s[8]||0,s.number=t),s},setTile:function(e,_,t){o[_][e]=t},map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o.forEach(function(t,a){t.forEach(function(t,s){null!==t&&f(8*(s+e),8*(a+_),t)})})},resetMap:function(){o=JSON.parse(JSON.stringify(i))}}}},99:function(e,_,t){"use strict";var a=t(9),s=t(30),r=t(3),n=t(0),i=t.n(n),o=t(19),l={octaves:4,volumes:8,phrases:64,chains:64,songs:8,matrixLength:16,chainChannels:4,startOffset:"+0.1",startOffsetDouble:"+0.5",bpm:144,subdivision:"4n"},u={volume:function(e){return(e+1)/l.volumes},note:function(e){return e}},c={oscillator:{type:"triangle"},envelope:{release:.07}},d=function(e){return[1,2,3,5,8,13,21,34][e]},h=function(e){var _=new r.Synth(c);return e?_.chain(e,r.Master):_.chain(r.Master),_},E=function(e){var _=e.note,t=e.octave,a=e.volume,s=e.time,n=void 0===s?r.context.currentTime:s,i=e.synth,l=e.tempo;if(n>=r.context.currentTime){var c=u.volume(a),h=Object(o.a)(_+12*t,!0,!0),E=function(e){return 4*d(e)+"n"}(l);i.triggerAttackRelease(h,E,n,c)}};_.a=function(e){var _=i.a.range(l.chainChannels).map(function(){return h(e)}),t=h(e);r.Transport.bpm.value=l.bpm,r.Transport.start(l.startOffset);var n={},o={},u=[],c=function(){i.a.forEach(n,function(e,_){var t=e.sequence;t&&t.stop()})},p=function(e){var t=e.song,r=e.chains,n=e.phrases,o=i()(i.a.range(Math.pow(l.matrixLength,3))).map(function(e){var _=i.a.padStart(e.toString(l.matrixLength),3,0).split("").map(function(e){return parseInt(e,l.matrixLength)}),a=Object(s.a)(_,3),o=a[0],u=a[1],c=a[2],d=i.a.get(t,o),h=i.a.get(r,d),E=i.a.get(h,u);return i.a.range(l.chainChannels).map(function(e){var _,t=i.a.get(E,e);if(!i.a.isNil(t)){var a=i.a.get(n,t,{}),s=i.a.get(a.notes,c);i.a.isNil(s)||(_={channel:e,noteElement:s})}return _}).filter(function(e){return e})}).dropRightWhile(i.a.isEmpty).value();return{callback:function(e,t){o[t].forEach(function(t){var s=t.channel,r=t.noteElement;E(Object(a.a)({},r,{time:e,synth:_[s],tempo:0}))})},events:i.a.range(o.length),sequence:null}};return{playSong:function(e){var _=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c(),i.a.forEach(n,function(t,a){+a===e&&(t.sequence=new r.Sequence(t.callback,t.events,l.subdivision),t.sequence.loop=_,t.sequence.playbackRate=d(0),t.sequence.start(l.startOffset))})},makeSongs:function(e){var _=e.songs,t=e.chains,a=e.phrases;c(),o=a,n=i.a.mapValues(_,function(e){return p({song:e,chains:t,phrases:a})})},stopSong:c,playPhrase:function(e){var _=i.a.get(o,e);if(_){for(;u.length;)u.pop().dispose();var s=_.tempo,n=new r.Sequence(function(e,r){var n=_.notes[r];n&&E(Object(a.a)({},n,{time:e,synth:t,tempo:s}))},i.a.range(l.matrixLength),l.subdivision);n.loop=!1,n.playbackRate=d(s),n.start(),u.push(n)}}}}}},[[103,1,2]]]);
//# sourceMappingURL=main.c1a03057.chunk.js.map